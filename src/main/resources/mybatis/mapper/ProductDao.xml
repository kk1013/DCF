<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- SQL 끝에 ; 세미콜론을 넣지 마세요! -->

<mapper namespace="com.study.springboot.dao.IProductDao">

	<select id="list" resultType="com.study.springboot.dto.ProductDto">
	  SELECT * FROM dcf_product ORDER BY product_idx DESC
	</select>
	
	<select id="update_view" resultType="com.study.springboot.dto.ProductDto">
	  SELECT * FROM dcf_product WHERE product_idx=#{ param1 }
	</select>
	
	<delete id="product_delete">
	  DELETE FROM dcf_product WHERE product_idx=#{ param1 }
	</delete>
	
	<select id="search" resultType="com.study.springboot.dto.ProductDto">
	  SELECT * FROM dcf_product WHERE product_name LIKE '%'||#{ param1 }||'%' OR product_price LIKE '%'||#{ param1 }||'%' ORDER BY product_idx DESC
	</select>
	
	<update id="update" parameterType="com.study.springboot.dto.ProductDto">
	  UPDATE dcf_product SET product_name=#{ param1 }, product_price=#{ param2 }, product_image=#{ param3 }, product_content=#{ param4 },
	  product_age=#{ param5 }, product_feed_type=#{ param6 }, product_size=#{ param7 }, product_animal=#{ param8 }, product_new=#{ param9 },
	  product_best=#{ param10 }, product_category_type=#{ param11 }, product_sample=#{ param12 } WHERE product_idx=#{ param13 };
	</update>

</mapper>